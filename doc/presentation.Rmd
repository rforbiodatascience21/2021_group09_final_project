---
title: "Final project"
author:
- √Ångela Miranda Segura
- Bernadette Kofoed Christiansen
- Henrik Spiegelhauer
- Ida Frich Hansen
output:
  ioslides_presentation:
    widescreen: false
    transition: slower
    css: /cloud/project/presentation/slidestyle.css
    df_print: kable

---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
library(kableExtra)
knitr::opts_knit$set(root.dir = here::here()) #root dir for file to project root dir

death_cases <- read_csv("/cloud/project/data/01_death_cases.csv")
recovered_cases <- read_csv("/cloud/project/data/01_recovered_cases.csv")
under_treatment_cases <- read_csv("/cloud/project/data/01_under_treatment_cases.csv")
all_cases<- death_cases %>%
  mutate(birth_date=as.double(birth_date))%>%
  full_join(recovered_cases)%>%
  full_join(under_treatment_cases)

```


---

## Introduction

<div class="up_bar" style="width: 20px"></div><div class="arrow-right" style="margin-left: 20px"></div><br>

The main aim is predicting breast cancer patients chance of survival.  

- [Clean the data](#5)
- [Augment the data](#7)
- [Create some plots](#10)
- Statistical analysis
- Create the prediction tool


# Materials and methods

## Materials {.smaller}

<div class="up_bar" style="width: 40px"></div><div class="arrow-right" style="margin-left: 40px"></div><br>

We are working with a dataset about Breast Cancer that we have obtained from [kaggle website](https://www.kaggle.com/)

This is the dataset we are working with:


```{r dataset}
kbl(all_cases) %>%
  kable_paper() %>%
  scroll_box(width = "700px", height = "350px")
```


## Cleaning the data {.smaller}

<div class="up_bar" style="width: 60px"></div><div class="arrow-right" style="margin-left: 60px"></div><br>


```{r}
under_20 <- all_cases%>%
  filter(age<20) %>%
  ggplot(aes(x = age, y = weight)) +
  geom_point()+
  geom_smooth()

under_20
```


## Cleaning the data 

<div class="up_bar" style="width: 80px"></div><div class="arrow-right" style="margin-left: 80px"></div><br>


```{r}
y <- data.frame(Changes = c("Variable names contained special invisible chars (\r\n) which were removed" , "Birth_control was renamed to not contain parenthesis in variable name", "Missing values were encoded to NA_real (numeric NA)", "For binary variables, if another char than 0 or 1 is found, this is assumed to be a typing error and is set = 1 (greedy approach)", "Blood type had one value of 44 (mistake) which was changed to NA", "Birth dates of other than 4 numbers were set to NA",  "Only look at women as they are the risk group of breast cancer (few men are hit)", "Only look at women > 20 years, as we wish to mainly focus on the risk group (age =risk) (0 cases in UK for women < 20 over 3 years)", "Filter out samples that are believed to have errors in weight", "Filter out a single woman who is set to not yet have her period, but have experience in pregnancy (does not make sense = error)", "Remove singular columns (with only one value for all samples)"))

x <- knitr::kable(y, "html") %>%
  kable_styling(font_size = 16) %>%
  pack_rows("Column names",1,2) %>%
  pack_rows("Variable values",3,6) %>%
  pack_rows("Filter out samples",7,10) %>%
  pack_rows("Removing columns", 11,11)

x
```


## Augmenting the data

<div class="up_bar" style="width: 100px"></div><div class="arrow-right" style="margin-left: 100px"></div><br>


```{r}
y <- data.frame(Changes = c("Categorical variables or more than 2 categories where encoded by their name instead of numbers", "Binary categories were kept", "All categorical values were changed to type; factor", "Numeric values were kept", "Columns explaining factor variables, like education, mestrual_age, menopausal_age...", "Age at treatment were calculated from birthdate year treatment year"))

x <- knitr::kable(y, "html") %>%
  kable_styling(font_size = 16) %>%
  pack_rows("Values changed",1,4) %>%
  pack_rows("Adding columns",5,6) 

x
```


<div style="font-size: 0.75em">
- 
</div>

# Discussion {#statistics}
## Discussion {.smaller}

<div class="up_bar" style="width: 360px"></div><div class="arrow-right" style="margin-left: 360px"></div><br>

# Conclusion

## Conclusion {.smaller}

<div class="up_bar" style="width: 400px"></div><div class="arrow-right" style="margin-left: 400px"></div><br>

We have reached the following conclusions

# Bibliography

## Bibliography {.smaller}

<div class="up_bar" style="width: 440px"></div><div class="arrow-right" style="margin-left: 440px"></div><br>

- Breast cancer incidence (invasive) statistics (10 March 2020). [Cancer Research UK](https://www.cancerresearchuk.org/health-professional/cancer-statistics/statistics-by-cancer-type/breast-cancer/incidence-invasive#heading-One)
- Height Percentile Calculator for Men and Women in the United States. [DQYDJ](https://dqydj.com/height-percentile-calculator-for-men-and-women/)
- Weight Gain After Breast Cancer Diagnosis May Be a Bigger Issue Than Thought in Australia (13 March 2020) [BreastCancer.org](https://www.breastcancer.org/research-news/gaining-weight-after-dx-big-problem-in-australia#:~:text=The%20survey%20found%20that%20nearly,diagnosed%20was%20about%20157%20pounds).



---

<div id="final_box">
<div style="color: rgb(47, 142, 194); font-size: 3em; text-align:center">THANKS</div> 
<div style="color: rgb(91, 175, 222); font-size: 2em; text-align:center"> FOR YOUR ATTENTION</div>
</div>

## Learning objectives {.smaller}

- Explain why reproducible data analysis is important, as well as identify relevant challenges and explain replicability versus reproducibility <i class="fas fa-check"></i>
- Describe the components of a reproducible data analysis <i class="fas fa-check"></i>
- Use Tidyverse R to perform exploratory data analysis (EDA) for data insights, including using ggplot to visualize multilayer data from e.g. high-througput -omics platforms <i class="fas fa-check"></i>
- Use Tidyverse R to perform data cleansing, transformation, visualization and communication <i class="fas fa-check"></i>
- Use RStudio and git/GitHub for collaborative analysis projects <i class="fas fa-check"></i>
- Perform and interpret standard dimension reduction and clustering techniques, as well as basic statistical tests and models <i class="fas fa-check"></i>


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

---

<div class="progress">
<i class="fas fa-folder-open"></i><i class="fas fa-arrow-right"></i><i class="fas fa-folder"></i>

</div>

